{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Router,Route,Link}from\"react-router-dom\";import UserService from\"../services/user.service\";import Login from\"../components/login.component\";var UpdateUser=/*#__PURE__*/function(_Component){_inherits(UpdateUser,_Component);var _super=_createSuper(UpdateUser);function UpdateUser(props){var _this;_classCallCheck(this,UpdateUser);_this=_super.call(this,props);_this.onChangeFirstname=_this.onChangeFirstname.bind(_assertThisInitialized(_this));_this.onChangeLastname=_this.onChangeLastname.bind(_assertThisInitialized(_this));_this.onChangeNick=_this.onChangeNick.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onChangePrivate=_this.onChangePrivate.bind(_assertThisInitialized(_this));_this.saveUser=_this.saveUser.bind(_assertThisInitialized(_this));_this.state={original:\"\",firstname:\"\",lastname:\"\",nick:\"\",password:\"\",private:false,submitted:false};return _this;}_createClass(UpdateUser,[{key:\"onChangeFirstname\",value:function onChangeFirstname(e){this.state({firstname:e.target.value});}},{key:\"onChangeLastname\",value:function onChangeLastname(e){this.state({lastname:e.target.value});}},{key:\"onChangeNick\",value:function onChangeNick(e){this.state({nick:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.state({password:e.target.value});}},{key:\"onChangePrivate\",value:function onChangePrivate(e){this.state({private:e.target.value});}},{key:\"saveUser\",value:function saveUser(){var _this2=this;var data={firstname:this.state.firstname,lastname:this.state.lastname,nick:this.state.nick,password:this.state.password,private:this.state.private};UserService.update(this.state.original,data).then(function(response){_this2.setState({firstname:response.data.firstname,lastname:response.data.lastname,nick:response.data.nick,password:response.data.password,private:response.data.private,submitted:true});}).catch(function(err){console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;UserService.get().then(function(response){_this3.setState({original:response.data.nick});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"submit-form\",children:this.state.submitted?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Your info has been updated.\"}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Login again please\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",component:Login})]})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstname\",children:\"Firstname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"firstname\",required:true,value:this.state.firstname,onChange:this.onChangeFirstname,name:\"firstname\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastname\",children:\"Lastname\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"lastname\",required:true,value:this.state.lastname,onChange:this.onChangeLastname,name:\"lastname\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nick\",children:\"Nick\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"nick\",required:true,value:this.state.nick,onChange:this.onChangeNick,name:\"nick\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",required:true,value:this.state.password,onChange:this.onChangePassword,name:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"private\",children:\"Private\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-control\",id:\"private\",required:true,onChange:this.onChangePrivate,defaultChecked:this.state.private,name:\"private\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.saveUser,className:\"btn btn-success\",children:\"Update\"})]})});}}]);return UpdateUser;}(Component);export{UpdateUser as default};","map":{"version":3,"sources":["C:/Users/Jose Sanchez/Desktop/2P/front/src/components/updateuser.js"],"names":["React","Component","Router","Route","Link","UserService","Login","UpdateUser","props","onChangeFirstname","bind","onChangeLastname","onChangeNick","onChangePassword","onChangePrivate","saveUser","state","original","firstname","lastname","nick","password","private","submitted","e","target","value","data","update","then","response","setState","catch","err","console","log","get"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport { Router, Route, Link } from \"react-router-dom\";\r\nimport UserService from \"../services/user.service\";\r\n\r\nimport Login from \"../components/login.component\"\r\n\r\nexport default class UpdateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChangeFirstname = this.onChangeFirstname.bind(this)\r\n        this.onChangeLastname = this.onChangeLastname.bind(this)\r\n        this.onChangeNick = this.onChangeNick.bind(this)\r\n        this.onChangePassword = this.onChangePassword.bind(this)\r\n        this.onChangePrivate = this.onChangePrivate.bind(this)\r\n        this.saveUser = this.saveUser.bind(this)\r\n        \r\n        this.state = {\r\n            original:\"\",\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            nick: \"\",\r\n            password: \"\",\r\n            private: false,\r\n\r\n            submitted: false\r\n        };\r\n    }\r\n\r\n    onChangeFirstname(e){\r\n        this.state({\r\n            firstname: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeLastname(e){\r\n        this.state({\r\n            lastname: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeNick(e){\r\n        this.state({\r\n            nick: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.state({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePrivate(e){\r\n        this.state({\r\n            private: e.target.value\r\n        });\r\n    }\r\n\r\n    saveUser(){\r\n        var data ={\r\n            firstname: this.state.firstname,\r\n            lastname: this.state.lastname,\r\n            nick: this.state.nick,\r\n            password: this.state.password,\r\n            private: this.state.private\r\n        };\r\n\r\n        UserService.update(this.state.original,data)\r\n        .then(response => {\r\n            this.setState({\r\n                firstname: response.data.firstname,\r\n                lastname: response.data.lastname,\r\n                nick: response.data.nick,\r\n                password: response.data.password,\r\n                private: response.data.private,\r\n\r\n                submitted: true\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        UserService.get()\r\n        .then(response => {\r\n            this.setState({\r\n                original: response.data.nick\r\n            })\r\n        })\r\n        .catch(err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"submit-form\">\r\n              {this.state.submitted ? (\r\n                <div>\r\n                  <h4>Your info has been updated.</h4>\r\n                  <Router>\r\n                    <div>\r\n                      <Link to=\"/login\">\r\n                        <button>Login again please</button>\r\n                      </Link>\r\n                      <Route path=\"/login\" component={Login} />\r\n                    </div>\r\n                  </Router>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"firstname\">Firstname</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"firstname\"\r\n                      required\r\n                      value={this.state.firstname}\r\n                      onChange={this.onChangeFirstname}\r\n                      name=\"firstname\"\r\n                    />\r\n                  </div>\r\n      \r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"lastname\">Lastname</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"lastname\"\r\n                      required\r\n                      value={this.state.lastname}\r\n                      onChange={this.onChangeLastname}\r\n                      name=\"lastname\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"nick\">Nick</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"nick\"\r\n                      required\r\n                      value={this.state.nick}\r\n                      onChange={this.onChangeNick}\r\n                      name=\"nick\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      id=\"password\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChangePassword}\r\n                      name=\"password\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"private\">Private</label>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      className=\"form-control\"\r\n                      id=\"private\"\r\n                      required\r\n                      onChange={this.onChangePrivate}\r\n                      defaultChecked = {this.state.private}\r\n                      name=\"private\"\r\n                    />\r\n                  </div>\r\n      \r\n                  <button onClick={this.saveUser} className=\"btn btn-success\">\r\n                    Update\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        }\r\n    }"]},"metadata":{},"sourceType":"module"}
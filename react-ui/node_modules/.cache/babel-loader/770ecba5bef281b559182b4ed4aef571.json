{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Switch,Route,Link}from\"react-router-dom\";import queryString from'query-string';import PostsService from\"../services/posts.services\";import LikeService from\"../services/like.services\";import CommentService from'../services/comment.service';import Home from\"../components/home.component\";import MyPage from\"../components/mypage.component\";import UpdatePost from\"./updatepost\";var MyPost=/*#__PURE__*/function(_Component){_inherits(MyPost,_Component);var _super=_createSuper(MyPost);function MyPost(props){var _this;_classCallCheck(this,MyPost);_this=_super.call(this,props);_this.onClickDelete=_this.onClickDelete.bind(_assertThisInitialized(_this));_this.saveLike=_this.saveLike.bind(_assertThisInitialized(_this));_this.changeLike=_this.changeLike.bind(_assertThisInitialized(_this));_this.saveDislike=_this.saveDislike.bind(_assertThisInitialized(_this));_this.changeDislike=_this.changeDislike.bind(_assertThisInitialized(_this));_this.onChangeContent=_this.onChangeContent.bind(_assertThisInitialized(_this));_this.saveComment=_this.saveComment.bind(_assertThisInitialized(_this));_this.state={id:0,description:\"\",media:\"\",comments:[],content:\"\",like:false,dislike:false,init:false,//config\nloaded:false};return _this;}_createClass(MyPost,[{key:\"onClickDelete\",value:function onClickDelete(e){var _this2=this;PostsService.delete(this.state.id).then(function(){_this2.props.history.push('/user');}).catch(function(err){console.log(err);});}},{key:\"saveLike\",value:function saveLike(){var _this3=this;LikeService.createLike(this.state.id).then(function(){_this3.setState({like:true,init:true});}).catch(function(err){console.log(err);});}},{key:\"changeLike\",value:function changeLike(){var _this4=this;if(this.state.like===true){var data={change:false};}else{data={change:true};}LikeService.updateLike(this.state.id,data).then(function(result){_this4.setState({like:result.data.like,dislike:result.data.dislike});});}},{key:\"onChangeContent\",value:function onChangeContent(e){this.state({content:e.target.value});}},{key:\"saveComment\",value:function saveComment(){var _this5=this;var data={content:this.state.content};CommentService.create(this.state.id,data).then(function(response){_this5.setState({content:response.data.content});}).catch(function(err){console.log(err);});}},{key:\"saveDislike\",value:function saveDislike(){var _this6=this;LikeService.createLike(this.state.id).then(function(){_this6.setState({dislike:true,init:true});}).catch(function(err){console.log(err);});}},{key:\"changeDislike\",value:function changeDislike(){var _this7=this;if(this.state.dislike===true){var data={change:false};}else{data={change:true};}LikeService.updateDislike(this.state.id,data).then(function(result){_this7.setState({like:result.data.like,dislike:result.data.dislike});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this8=this;var values=queryString.parse(this.props.location.search);var id=values.id;this.setState({id:id});PostsService.get(this.state.id).then(function(response){_this8.setState({description:response.data.description,media:response.data.media});}).catch(function(err){console.log(err);});LikeService.get(this.state.id).then(function(response){_this8.setState({like:response.data.like,dislike:response.data.dislike});}).catch(function(err){console.log(err);});CommentService.get(this.state.id).then(function(response){_this8.setState({comments:response.data});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand navbar-dark bg-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"nav-link\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user\",className:\"nav-link\",children:\"My Page\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/post/update\",className:\"nav-link\",children:\"Edit Post\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"p\",{onClick:this.onClickDelete,children:\"Delete Post\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/user\",component:MyPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/post/update\",component:UpdatePost})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Post\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:this.state.media,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"})}),\" \",this.state.description]}),this.state.init?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.changeLike,className:\"btn btn-success\",children:\"Like\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.changeDislike,className:\"btn btn-success\",children:\"Dislike\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.saveLike,className:\"btn btn-success\",children:\"Like\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.saveDislike,className:\"btn btn-success\",children:\"Dislike\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Leave a comment\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"content\",required:true,value:this.state.content,onChange:this.onChangeContent,name:\"content\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.saveComment,className:\"btn btn-success\",children:\"Comment\"})]}),/*#__PURE__*/_jsx(\"div\",{children:this.state.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:comment.creator}),/*#__PURE__*/_jsx(\"p\",{children:comment.content})]});})})]})]});}}]);return MyPost;}(Component);export{MyPost as default};","map":{"version":3,"sources":["C:/Users/Jose Sanchez/Desktop/2P/front/src/components/mypost.component.js"],"names":["React","Component","Switch","Route","Link","queryString","PostsService","LikeService","CommentService","Home","MyPage","UpdatePost","MyPost","props","onClickDelete","bind","saveLike","changeLike","saveDislike","changeDislike","onChangeContent","saveComment","state","id","description","media","comments","content","like","dislike","init","loaded","e","delete","then","history","push","catch","err","console","log","createLike","setState","data","change","updateLike","result","target","value","create","response","updateDislike","values","parse","location","search","get","map","comment","creator"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Switch, Route, Link } from \"react-router-dom\";\r\nimport queryString from 'query-string';\r\nimport PostsService from \"../services/posts.services\";\r\nimport LikeService from \"../services/like.services\";\r\nimport CommentService from '../services/comment.service';\r\n\r\nimport Home from \"../components/home.component\"\r\nimport MyPage from \"../components/mypage.component\"\r\nimport UpdatePost from \"./updatepost\";\r\n\r\n\r\n\r\nexport default class MyPost extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.onClickDelete = this.onClickDelete.bind(this)\r\n        this.saveLike = this.saveLike.bind(this)\r\n        this.changeLike = this.changeLike.bind(this)\r\n        this.saveDislike = this.saveDislike.bind(this)\r\n        this.changeDislike = this.changeDislike.bind(this)\r\n        this.onChangeContent = this.onChangeContent.bind(this)\r\n        this.saveComment = this.saveComment.bind(this)\r\n        this.state = {\r\n            id:0,\r\n            description:\"\",\r\n            media:\"\",\r\n            comments:[],\r\n            content:\"\",\r\n            like:false,\r\n            dislike:false,\r\n            init:false,\r\n            \r\n            //config\r\n            loaded:false\r\n        };\r\n    }\r\n    \r\n    onClickDelete(e){\r\n        PostsService.delete(this.state.id)\r\n        .then( () => {\r\n            this.props.history.push('/user')\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    saveLike(){\r\n        LikeService.createLike(this.state.id)\r\n        .then(() =>{\r\n            this.setState({\r\n                like:true,\r\n                init:true\r\n            })\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    changeLike(){\r\n        if(this.state.like===true){\r\n            var data = {\r\n                change:false\r\n            }\r\n        }\r\n        else{\r\n            data ={\r\n                change: true\r\n            }\r\n        }\r\n        LikeService.updateLike(this.state.id,data)\r\n        .then( result => {\r\n            this.setState({\r\n                like: result.data.like,\r\n                dislike: result.data.dislike\r\n            })\r\n        })\r\n    }\r\n\r\n    onChangeContent(e){\r\n        this.state({\r\n            content: e.target.value\r\n        });\r\n    }\r\n\r\n    saveComment(){\r\n        var data = {\r\n            content: this.state.content\r\n        }\r\n        CommentService.create(this.state.id,data)\r\n        .then(response => {\r\n           this.setState({\r\n               content: response.data.content\r\n           })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    saveDislike(){\r\n        LikeService.createLike(this.state.id)\r\n        .then(() =>{\r\n            this.setState({\r\n                dislike:true,\r\n                init:true\r\n            })\r\n        })\r\n        .catch( err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    changeDislike(){\r\n        if(this.state.dislike===true){\r\n            var data = {\r\n                change:false\r\n            }\r\n        }\r\n        else{\r\n            data ={\r\n                change: true\r\n            }\r\n        }\r\n        LikeService.updateDislike(this.state.id,data)\r\n        .then( result => {\r\n            this.setState({\r\n                like: result.data.like,\r\n                dislike: result.data.dislike\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n       const values = queryString.parse(this.props.location.search)\r\n       const id = values.id\r\n       this.setState({id:id})\r\n        PostsService.get(this.state.id)\r\n        .then(response => {\r\n            this.setState({\r\n                description: response.data.description,\r\n                media: response.data.media\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        LikeService.get(this.state.id)\r\n        .then(response => {\r\n            this.setState({\r\n                like: response.data.like,\r\n                dislike: response.data.dislike\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        CommentService.get(this.state.id)\r\n        .then(response => {\r\n            this.setState({\r\n                comments: response.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n   \r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n                <div className=\"navbar-nav mr-auto\">\r\n                    <li className=\"nav-item\">\r\n                    <Link to={\"/home\"} className=\"nav-link\">\r\n                        Home\r\n                    </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <Link to={\"/user\"} className=\"nav-link\">\r\n                        My Page\r\n                    </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <Link to={\"/post/update\"} className=\"nav-link\">\r\n                        Edit Post\r\n                    </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <p onClick={this.onClickDelete}>Delete Post</p>\r\n                    </li>\r\n                </div>\r\n                </nav>\r\n\r\n                <div className=\"container mt-3\">\r\n                <Switch>\r\n                    <Route path=\"/home\" component={Home} />\r\n                    <Route exact path=\"/user\" component={MyPage} />\r\n                    <Route exact path=\"/post/update\" component={UpdatePost} />\r\n                </Switch>\r\n                </div>\r\n\r\n                <div>\r\n                    <h4>Post</h4>\r\n                    <div>\r\n                        <img src={this.state.media} alt=\"\"/>\r\n                        <div>\r\n                         <label>\r\n                            <strong>Description:</strong>\r\n                        </label>{\" \"}\r\n                            {this.state.description}\r\n                        </div>\r\n                        {this.state.init ? (\r\n                           <div>\r\n                               <button onClick={this.changeLike} className=\"btn btn-success\">\r\n                                    Like\r\n                                </button>\r\n                                <button onClick={this.changeDislike} className=\"btn btn-success\">\r\n                                    Dislike\r\n                                </button>\r\n                           </div>\r\n                        ) : (\r\n                            <div>\r\n                                <button onClick={this.saveLike} className=\"btn btn-success\">\r\n                                    Like\r\n                                </button>\r\n                                <button onClick={this.saveDislike} className=\"btn btn-success\">\r\n                                    Dislike\r\n                                </button>\r\n                            </div>\r\n                        ) }\r\n                       \r\n                    </div>\r\n                    <div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password\">Leave a comment</label>\r\n                            <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"content\"\r\n                            required\r\n                            value={this.state.content}\r\n                            onChange={this.onChangeContent}\r\n                            name=\"content\"\r\n                            />\r\n                        </div>\r\n                        <button onClick={this.saveComment} className=\"btn btn-success\">\r\n                            Comment\r\n                        </button>\r\n                    </div>\r\n                    <div>\r\n                    {this.state.comments.map (comment => {\r\n                        return(\r\n                            <div>\r\n                                <p>{comment.creator}</p>\r\n                                <p>{comment.content}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        )     \r\n    }\r\n    \r\n} "]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Jose Sanchez/Desktop/2P/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Switch,Route,Link}from\"react-router-dom\";import queryString from'query-string';import UserService from\"../services/user.service\";import PostsService from\"../services/posts.services\";import FollowService from\"../services/follow.services\";import Home from\"../components/home.component\";import MyPage from\"../components/mypage.component\";import PostPage from\"../components/postpage.component\";var UserPage=/*#__PURE__*/function(_Component){_inherits(UserPage,_Component);var _super=_createSuper(UserPage);function UserPage(props){var _this;_classCallCheck(this,UserPage);_this=_super.call(this,props);_this.onClickFollow=_this.onClickFollow.bind(_assertThisInitialized(_this));_this.state={nick:\"\",photo:\"\",private:false,posts:[],follow:false,viewer:\"\",loaded:false};return _this;}_createClass(UserPage,[{key:\"onClickFollow\",value:function onClickFollow(){var _this2=this;FollowService.create(this.state.nick).then(function(){_this2.setState({follow:true});}).catch(function(err){console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;var values=queryString.parse(this.props.location.search);var nick=values.nick;this.setState({nick:nick});UserService.get().then(function(response){_this3.setState({private:response.data.private,photo:response.data.photo,loaded:true});}).catch(function(err){console.log(err);});FollowService.get(this.state.nick).then(function(response){if(response.length){_this3.setState({follow:true});}}).catch(function(err){console.log(err);});PostsService.get(this.state.nick).then(function(response){_this3.setState({posts:response.data});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand navbar-dark bg-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"nav-link\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user\",className:\"nav-link\",children:\"My Page\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"p\",{onClick:this.onClickFollow,children:\"Follow User\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-3\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/user\",component:MyPage}),/*#__PURE__*/_jsx(Route,{path:\"/user:nick\",component:UserPage}),/*#__PURE__*/_jsx(Route,{path:\"/post:id\",component:PostPage})]})}),this.state.follow?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Posts\"}),this.state.posts.map(function(post){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/post\"+post.id,children:/*#__PURE__*/_jsx(\"img\",{src:post.media,alt:\"\"})})});})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Follow this user to see their posts.\"})})]});}}]);return UserPage;}(Component);export{UserPage as default};","map":{"version":3,"sources":["C:/Users/Jose Sanchez/Desktop/2P/front/src/components/userpage.component.js"],"names":["React","Component","Switch","Route","Link","queryString","UserService","PostsService","FollowService","Home","MyPage","PostPage","UserPage","props","onClickFollow","bind","state","nick","photo","private","posts","follow","viewer","loaded","create","then","setState","catch","err","console","log","values","parse","location","search","get","response","data","length","map","post","id","media"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {Switch, Route, Link } from \"react-router-dom\";\r\nimport queryString from 'query-string'\r\nimport UserService from \"../services/user.service\";\r\nimport PostsService from \"../services/posts.services\";\r\nimport FollowService from \"../services/follow.services\"\r\n\r\nimport Home from \"../components/home.component\"\r\nimport MyPage from \"../components/mypage.component\"\r\nimport PostPage from \"../components/postpage.component\"\r\n\r\n\r\nexport default class UserPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.onClickFollow = this.onClickFollow.bind(this)\r\n        this.state = {\r\n            nick:\"\",\r\n            photo:\"\",\r\n            private: false,\r\n            posts:[],\r\n            follow:false,\r\n            viewer:\"\",\r\n            \r\n            loaded:false\r\n        };\r\n    }\r\n\r\n    onClickFollow(){\r\n        FollowService.create(this.state.nick)\r\n        .then(() =>{\r\n            this.setState({follow:true})\r\n        })\r\n        .catch(err =>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        const values = queryString.parse(this.props.location.search)\r\n       const nick = values.nick\r\n       this.setState({nick:nick})\r\n        UserService.get()\r\n        .then(response => {\r\n            this.setState({\r\n                private: response.data.private,\r\n                photo: response.data.photo,\r\n\r\n                loaded:true\r\n            })\r\n        })\r\n        .catch(err =>{\r\n            console.log(err)\r\n        })\r\n        FollowService.get(this.state.nick)\r\n        .then(response => {\r\n            if(response.length){\r\n                this.setState({\r\n                    follow:true\r\n                })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        PostsService.get(this.state.nick)\r\n        .then(response => {\r\n            this.setState({\r\n                posts: response.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n        \r\n    }\r\n   \r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n                <div className=\"navbar-nav mr-auto\">\r\n                    <li className=\"nav-item\">\r\n                    <Link to={\"/home\"} className=\"nav-link\">\r\n                        Home\r\n                    </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <Link to={\"/user\"} className=\"nav-link\">\r\n                        My Page\r\n                    </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <p onClick={this.onClickFollow}>Follow User</p>\r\n                    </li>\r\n                </div>\r\n                </nav>\r\n\r\n                <div className=\"container mt-3\">\r\n                <Switch>\r\n                    <Route path=\"/home\" component={Home} />\r\n                    <Route exact path=\"/user\" component={MyPage} />\r\n                    <Route path=\"/user:nick\" component={UserPage} />\r\n                    <Route path=\"/post:id\" component={PostPage} />\r\n                </Switch>\r\n                </div>\r\n\r\n                {this.state.follow ? (\r\n                    <div>\r\n                    <h4>Posts</h4>\r\n                    {this.state.posts.map (post => {\r\n                        return(\r\n                            <div>\r\n                                <Link to={\"/post\"+post.id}>\r\n                                <img src={post.media} alt=\"\"/>\r\n                                </Link>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <p>Follow this user to see their posts.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n        )     \r\n    }\r\n    \r\n} "]},"metadata":{},"sourceType":"module"}